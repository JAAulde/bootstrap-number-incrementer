/**
 * @file A jQuery/Boostrap based widget for use on text and number inputs to
 *       turn them into Bootstrap input groups with plus and minus buttons for
 *       incrementing and decrementing the input's numeric value.
 * @version 1.0.0
 * @copyright Jim Auldridge <auldridgej@gmail.com> 2016
 * @license MIT
 * @see {@link https://github.com/JAAulde/bootstrap-number-incrementer|GitHub Repository}
 * @see {@link http://getbootstrap.com/|Bootstrap}
 * @see {@link https://jquery.com/|jQuery}
 */
!function(t){"use strict";var n=t.parseInt,a=t.jQuery,e=t.template_manager,i=a.fn.prop,r=a.fn.attr,s={width_factor:"dynamic"},c={CLASS_NAME_INPUT:"bs-number-incremented",CLASS_NAME_WRAPPER:"bs-number-incrementer",NAMESPACE_EVENTS:"bs-number-incrementer",DATA_PROPERTY_WIDGET_DATA:"widgetData"},o=function(){return o.$||(o.$=a(e.get("partials/wrapper.html"))),o.$.clone()},p=function(t){var n,a,e,i=t.find("input."+c.CLASS_NAME_INPUT),r=i.data(c.DATA_PROPERTY_WIDGET_DATA).options;switch(r.width_factor){case"range":n=(i.attr("min")||"").length,a=(i.attr("max")||"").length,e=.75*(n>a?n:a),t.width(7+(e||1)+"em");break;case"dynamic":e=(i.val()||"").length||1,t.width(7+e+"em")}},l=function(t){var a,e,i,r=n(t.val(),10),s=[];isNaN(r)||(a=n(t.attr("min"),10),!isNaN(a)&&r<=a&&s.push('button[data-operation="decrement"]'),e=n(t.attr("max"),10),!isNaN(e)&&r>=e&&s.push('button[data-operation="increment"]')),i=t.closest("div."+c.CLASS_NAME_WRAPPER).find("button").prop("disabled",!1),s.length&&i.filter(s.join(", ")).prop("disabled",!0)};a.fn.prop=function(){var t=arguments;return 2===t.length&&"disabled"===t[0]&&this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var n=a(this);t[1]===!0?l(n):a.fn.prop.apply(n.closest("div."+c.CLASS_NAME_WRAPPER).find("button"),t)}),i.apply(this,t)},a.fn.attr=function(){var t=arguments,n=r.apply(this,t);return 2===t.length&&["min","max"].indexOf(t[0])>-1&&this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t=a(this);p(t.closest("div."+c.CLASS_NAME_WRAPPER))}),n},a.fn.numberIncrementer=function(t){switch(t){case"increment":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,e,i,r=a(this);r.prop("disabled")||(t=n(r.val(),10),isNaN(t)&&(t=0),e=n(r.attr("min"),10),!isNaN(e)&&e>t?r.val(e).trigger("change"):(i=n(r.attr("max"),10),(isNaN(i)||t<i)&&r.val(t+1).trigger("change")))});break;case"decrement":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,e,i,r=a(this);r.prop("disabled")||(t=n(r.val(),10),isNaN(t)&&(t=0),e=n(r.attr("max"),10),!isNaN(e)&&t>e?r.val(e).trigger("change"):(i=n(r.attr("min"),10),(isNaN(i)||i<t)&&r.val(t-1).trigger("change")))});break;case"destroy":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,n,e=a(this),i=e.data(c.DATA_PROPERTY_WIDGET_DATA);e.closest("div."+c.CLASS_NAME_WRAPPER).replaceWith(e);for(t in i.originals)if(Object.prototype.hasOwnProperty.call(i.originals,t))for(n in i.originals[t])Object.prototype.hasOwnProperty.call(i.originals[t],n)&&e[t](n,i.originals[t][n]);e.off("change."+c.NAMESPACE_EVENTS).removeData(c.DATA_PROPERTY_WIDGET_DATA).removeClass(c.CLASS_NAME_INPUT)});break;default:var e=a.extend({},s,t||{});this.filter('input[type="text"], input[type="number"]').not("."+c.CLASS_NAME_INPUT).each(function(){var t=a(this),n=o(),i={originals:{attr:{type:t.attr("type")},css:{"text-align":t.css("text-align")||"start"}},options:e};t.replaceWith(n),n.find("span.bs-number-incremented-target:first").replaceWith(t),t.prop("disabled",t.prop("disabled")).attr("type","text").css("text-align","dynamic"===e.width_factor?"center":"right").addClass(c.CLASS_NAME_INPUT).on("change."+c.NAMESPACE_EVENTS,function(){"dynamic"===t.data(c.DATA_PROPERTY_WIDGET_DATA).options.width_factor&&p(t.closest("div."+c.CLASS_NAME_WRAPPER)),l(t)}).data(c.DATA_PROPERTY_WIDGET_DATA,i),p(n),n.find("button[data-operation]").on("click",function(){var n=a(this).data("operation");["increment","decrement"].indexOf(n)>=0&&t.numberIncrementer(n)})})}return this}}(this),function(){template_manager.cache("partials/wrapper.html",'<div class="bs-number-incrementer"><div class="input-group"><span class="input-group-btn"><button type="button" class="btn btn-default" data-operation="decrement"><span class="glyphicon glyphicon-minus"></span></button> </span><span class="bs-number-incremented-target"></span> <span class="input-group-btn"><button type="button" class="btn btn-default" data-operation="increment"><span class="glyphicon glyphicon-plus"></span></button></span></div></div>')}();
//# sourceMappingURL=maps/number-incrementer.bootstrap.min.js.map
