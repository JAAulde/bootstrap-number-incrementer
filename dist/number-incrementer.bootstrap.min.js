/**
 * @file A jQuery/Boostrap based widget for use on text and number inputs to
 *       turn them into Bootstrap input groups with plus and minus buttons for
 *       incrementing and decrementing the input's numeric value.
 * @version 1.0.0
 * @copyright Jim Auldridge <auldridgej@gmail.com> 2016
 * @license MIT
 * @see {@link https://github.com/JAAulde/bootstrap-number-incrementer|GitHub Repository}
 * @see {@link http://getbootstrap.com/|Bootstrap}
 * @see {@link https://jquery.com/|jQuery}
 */
!function(t){"use strict";var a=t.parseInt,n=t.jQuery,e=t.template_manager,r=n.fn.prop,i=n.fn.attr,s={width_factor:"dynamic",wrapper_class:null,input_class:null,incrementer_class:null,decrementer_class:null},c={CLASS_NAME_INPUT:"bs-number-incremented",CLASS_NAME_WRAPPER:"bs-number-incrementer",NAMESPACE_EVENTS:"bs-number-incrementer",DATA_PROPERTY_WIDGET_DATA:"widgetData"},l=function(){return l.$||(l.$=n(e.get("partials/wrapper.html"))),l.$.clone()},p=function(t){var a,n,e,r=t.find("input."+c.CLASS_NAME_INPUT),i=r.data(c.DATA_PROPERTY_WIDGET_DATA).options;switch(i.width_factor){case"range":a=(r.attr("min")||"").length,n=(r.attr("max")||"").length,e=.75*(a>n?a:n),t.width(7+(e||1)+"em");break;case"dynamic":e=(r.val()||"").length||1,t.width(7+e+"em")}},o=function(t){var n,e,r,i,s=t.closest("div."+c.CLASS_NAME_WRAPPER).find("button"),l=t.prop("disabled");s.prop("disabled",s.prop("disabled",!0)),l||(s.prop("disabled",!1),n=a(t.val(),10),i=[],isNaN(n)||(e=a(t.attr("min"),10),!isNaN(e)&&n<=e&&i.push('[data-operation="decrement"]'),r=a(t.attr("max"),10),!isNaN(r)&&n>=r&&i.push('[data-operation="increment"]')),i.length&&s.filter(i.join(", ")).prop("disabled",!0))};n.fn.prop=function(){var t=arguments,a=r.apply(this,t);return 2===t.length&&"disabled"===t[0]&&this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var a=n(this);t[1]===!0?r.apply(a.closest("div."+c.CLASS_NAME_WRAPPER).find("button"),t):o(a)}),a},n.fn.attr=function(){var t=arguments,a=i.apply(this,t);return 2===t.length&&["min","max"].indexOf(t[0])>-1&&this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t=n(this),a=t.data(c.DATA_PROPERTY_WIDGET_DATA);o(t),"range"===a.options.width_factor&&p(t.closest("div."+c.CLASS_NAME_WRAPPER))}),a},n.fn.numberIncrementer=function(t){switch(t){case"increment":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,e,r,i=n(this);i.prop("disabled")||(t=a(i.val(),10),isNaN(t)&&(t=0),e=a(i.attr("min"),10),!isNaN(e)&&e>t?i.val(e).trigger("change"):(r=a(i.attr("max"),10),(isNaN(r)||t<r)&&i.val(t+1).trigger("change")))});break;case"decrement":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,e,r,i=n(this);i.prop("disabled")||(t=a(i.val(),10),isNaN(t)&&(t=0),e=a(i.attr("max"),10),!isNaN(e)&&t>e?i.val(e).trigger("change"):(r=a(i.attr("min"),10),(isNaN(r)||r<t)&&i.val(t-1).trigger("change")))});break;case"destroy":this.filter("input."+c.CLASS_NAME_INPUT).each(function(){var t,a,e=n(this),r=e.data(c.DATA_PROPERTY_WIDGET_DATA);e.closest("div."+c.CLASS_NAME_WRAPPER).replaceWith(e);for(t in r.originals)if(Object.prototype.hasOwnProperty.call(r.originals,t))for(a in r.originals[t])Object.prototype.hasOwnProperty.call(r.originals[t],a)&&e[t](a,r.originals[t][a]);e.off("change."+c.NAMESPACE_EVENTS).removeData(c.DATA_PROPERTY_WIDGET_DATA)});break;default:var e=n.extend({},s,t||{});this.filter('input[type="text"], input[type="number"]').not("."+c.CLASS_NAME_INPUT).each(function(){var t,a=n(this),r=l(),i={originals:{attr:{type:a.attr("type"),"class":a.attr("class")||""},css:{"text-align":a.css("text-align")||"start"}},options:e};a.replaceWith(r),r.find("span.bs-number-incremented-target:first").replaceWith(a),a.addClass(c.CLASS_NAME_INPUT+" form-control").attr("type","text").css("text-align","dynamic"===e.width_factor?"center":"right").on("change."+c.NAMESPACE_EVENTS,function(){"dynamic"===a.data(c.DATA_PROPERTY_WIDGET_DATA).options.width_factor&&p(a.closest("div."+c.CLASS_NAME_WRAPPER)),o(a)}).data(c.DATA_PROPERTY_WIDGET_DATA,i),o(a),p(r),t=r.find("button[data-operation]").on("click",function(){var t=n(this).data("operation");["increment","decrement"].indexOf(t)>=0&&a.numberIncrementer(t)}),e.input_class&&a.addClass(e.input_class),e.wrapper_class&&r.addClass(e.wrapper_class),e.incrementer_class&&t.filter('[data-operation="increment"]').addClass(e.incrementer_class),e.decrementer_class&&t.filter('[data-operation="decrement"]').addClass(e.decrementer_class)})}return this}}(this),function(){template_manager.cache("partials/wrapper.html",'<div class="input-group bs-number-incrementer"><span class="input-group-btn"><button type="button" class="btn btn-default" data-operation="decrement"><span class="glyphicon glyphicon-minus"></span></button> </span><span class="bs-number-incremented-target"></span> <span class="input-group-btn"><button type="button" class="btn btn-default" data-operation="increment"><span class="glyphicon glyphicon-plus"></span></button></span></div>')}();
//# sourceMappingURL=maps/number-incrementer.bootstrap.min.js.map
